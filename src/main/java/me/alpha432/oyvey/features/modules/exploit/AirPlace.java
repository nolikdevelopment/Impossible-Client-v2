package me.alpha432.oyvey.features.modules.exploit;

import me.alpha432.oyvey.features.modules.Module;
import net.minecraft.block.AirBlock;
import net.minecraft.item.BlockItem;
import net.minecraft.util.Hand;
import net.minecraft.util.hit.BlockHitResult;
import net.minecraft.util.hit.HitResult;
import net.minecraft.util.math.BlockPos;
import net.minecraft.util.math.Direction;
import net.minecraft.util.math.Vec3d;

public class AirPlace extends Module {
    public AirPlace() {
        super("AirPlace", "", Category.EXPLOIT, true,false,false);
    }
    @Override
    public void onTick() {
  if(mc.crosshairTarget instanceof BlockHitResult && mc.player.getMainHandStack().getItem() instanceof BlockItem) {
      BlockPos pos = ((BlockHitResult) mc.crosshairTarget).getBlockPos();
      if (mc.world.getBlockState(pos).getBlock() instanceof AirBlock) {
          if (mc.options.useKey.wasPressed() || mc.options.useKey.isPressed()) {
              mc.interactionManager.interactBlock(mc.player, Hand.MAIN_HAND, new BlockHitResult(Vec3d.of(pos), Direction.DOWN, pos, false));
              mc.player.swingHand(Hand.MAIN_HAND);
          }
      }
  }
    }

}
